/*! VZRF Version 2.20.0 */
function dropListInit(t){var i=getContext(t);i.off("click keydown","[data-drop-list]:not(.disabled):not(.active) [data-drop-list-button]"),i.on("click keydown","[data-drop-list]:not(.disabled):not(.active) [data-drop-list-button]",function(t){if(keyClick(t)===!0){var i=$vf(this).closest("[data-drop-list]");showDropList(i)}}),i.off("click keydown","[data-drop-list] .drop-list_list > [tabindex=-1]:not([data-has-tabs])"),i.on("click keydown","[data-drop-list] .drop-list_list > [tabindex=-1]:not([data-has-tabs])",function(t){if(keyClick(t)===!0){var i=$vf(t.target);if(!i.is("input, textarea, select, [data-has-tabs]")){var e=$vf(this).closest("[data-drop-list]");hideDropList(e)}}}),i.off("click keydown","[data-drop-list-choices] > .drop-list_choice, [data-drop-list-select] > [tabindex=-1]"),i.on("click keydown","[data-drop-list-choices] > .drop-list_choice, [data-drop-list-select] > [tabindex=-1]",function(t){if(keyClick(t)===!0){var i=$vf(t.target);if(!i.is("input, textarea, select, [data-has-tabs]")){t.preventDefault();var e=$vf(this);e.siblings().removeClass("active").attr("aria-checked",!1),e.addClass("active").attr("aria-checked",!0)}}}),i.off("mouseleave","[data-drop-list]"),i.on("mouseleave","[data-drop-list]",function(){var t=$vf(this),i=setTimeout(function(){t.is(".active")?hideDropList(t):clearTimeout(i)},300);t.on("mouseenter",function(){clearTimeout(i)})}),i.off("click keydown","[data-drop-list].active [data-drop-list-button]"),i.on("click keydown","[data-drop-list].active [data-drop-list-button]",function(t){if(keyClick(t)===!0){var i=$vf(this).closest("[data-drop-list]");hideDropList(i)}}),i.off("click keydown",".page-overlay.droplist, .nested-overlay"),i.on("click keydown",".page-overlay.droplist, .nested-overlay",function(t){if(keyClick(t)===!0){var i=$vf("[data-drop-list].active");i.length&&hideDropList(i)}}),i.on("afterShowDropList","[data-drop-list]",function(){setDropListHeight($vf(this))}),i.on("afterHideDropList","[data-drop-list]",function(){setDropListHeight($vf(this),!0)}),$vf("[data-drop-list-button]").each(function(){var t=$vf(this);t[0].hasAttribute("tabindex")===!1&&t.attr("tabindex",0),t.attr("aria-listbox",!0)}),$vf(".drop-list_list > li, .drop-list_list > a, .drop-list_list > span, .drop-list_list > div").attr({role:"option",tabindex:-1}),$vf(".drop-list_list").prop("hidden",!0),$vf("[data-drop-list-select] > .active").attr("aria-checked",!0),$vf("[data-drop-list]").attr({role:"combobox"}),i.off("keydown",".active > [data-drop-list-button]"),i.on("keydown",".active > [data-drop-list-button]",function(t){var i=$vf(this),e=i.closest("[data-drop-list]"),a=($vf(".drop-list_list",e),t.which);e.is(".active")&&(27===a||9===a?(t.preventDefault(),hideDropList(e)):a>=36&&40>=a?(t.preventDefault(),$vf("[tabindex=-1]",e).first().focus()):35===a&&(t.preventDefault(),$vf("[tabindex=-1]",e).last().focus()))}),i.on("keydown",".drop-list_list > [tabindex=-1]",function(t){var i=$vf(this),e=i.closest("[data-drop-list]"),a=$vf(".drop-list_list > [tabindex=-1]",e),o=t.which;e.is(".active")&&($vf("[data-has-tabs] [tabindex=0]:focus").length<1&&(36===o?(t.preventDefault(),a.first().focus()):35===o?(t.preventDefault(),a.last().focus()):39===o||40===o?(t.preventDefault(),i.is(":last-child")||i.next().focus()):38===o||37===o?(t.preventDefault(),i.is(":first-child")||i.prev().focus()):(27===o||9===o&&!i.is("[data-has-tabs]"))&&(t.preventDefault(),hideDropList(e))),!i.is("[data-has-tabs]")||t.target!=t.currentTarget||9!==o&&13!==o?i.is("[data-has-tabs]")&&9===o?setTimeout(function(){0===$vf(":focus").closest("[data-has-tabs]").length&&i.focus()},1):i.is("[data-has-tabs]")&&27===o&&i.focus():(t.preventDefault(),$vf("[tabindex=0]",i).first().focus()))})}function showDropList(t){if(t.trigger("beforeShowDropList"),saveFocus(),$vf(".drop-list_list",t).prop("hidden",!1),t.addClass("active"),t.closest("[data-modal]").length>0){var i=t.closest("[data-modal]"),e=$vf("[data-modal-header], [data-modal-content], [data-modal-footer]",i);e.each(function(){$vf(this).append('<div class="nested-overlay" />')}),$vf(".nested-overlay",i).addClass("active invisible droplist")}else{$vf(".page-overlay").length<1&&$vf("body").append('<div class="page-overlay"></div>');var a=$vf(".page-overlay");t.closest(".main").length?a.appendTo(t.closest(".main")):$vf(".page.active").length&&a.appendTo(".page.active"),$vf(".page-overlay").addClass("active invisible droplist")}$vf(window).on("orientationchange",function(){hideDropList(t)}),t.trigger("afterShowDropList")}function hideDropList(t){t.trigger("beforeHideDropList");var i=$vf(".drop-list_list",t),e=i.outerHeight();i.css("height",e),t.removeClass("active"),$vf(":focus").blur();var a;t.closest("[data-modal]").length>0?(a=t.closest("[data-modal]").find(".nested-overlay"),a.removeClass("active invisible droplist"),setTimeout(function(){a.remove()},250)):(a=$vf(".page-overlay"),a.removeClass("active invisible droplist"),setTimeout(function(){a.appendTo("body")},250)),setTimeout(function(){i[0].style.height=""},300),resetFocus(),$vf(".drop-list_list",t).prop("hidden",!0),$vf(window).off("orientationchange"),t.trigger("afterHideDropList")}function setDropListHeight(t,i){if(!t.find("[data-drop-list-scroll]").length)return!1;t.trigger("beforeSetDropListHeight");var e=$vf(window).height(),a=$vf("[data-drop-list-scroll]",t).height(),o=t[0].getBoundingClientRect().bottom,s=e-o-1,d=$vf("[data-drop-list-scroll] > li > a, [data-drop-list-scroll] > a, [data-drop-list-scroll] > span",t),r=parseInt(d.css("padding-right"));if(a>s&&!i){var l=s;$vf("[data-drop-list-scroll]",t).css({height:l,"min-height":100,"overflow-x":"hidden","overflow-y":"auto"});var n=document.createElement("div");n.className="scrollbar-measure",document.body.appendChild(n),$vf(".scrollbar-measure").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999});var c=n.offsetWidth-n.clientWidth;document.body.removeChild(n);var f=r+c,v=d[0].scrollWidth-c,p=v+f;d.css({"padding-right":f,width:p})}else i&&($vf("[data-drop-list-scroll]",t)[0].style.overflow="",d.each(function(){this.style.paddingRight=""}));t.trigger("afterSetDropListHeight")}