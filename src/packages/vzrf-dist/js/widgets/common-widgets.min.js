/*! VZRF Version 2.20.0 */
function dropListInit(t){var e=getContext(t);e.off("click keydown","[data-drop-list]:not(.disabled):not(.active) [data-drop-list-button]"),e.on("click keydown","[data-drop-list]:not(.disabled):not(.active) [data-drop-list-button]",function(t){if(keyClick(t)===!0){var e=$vf(this).closest("[data-drop-list]");showDropList(e)}}),e.off("click keydown","[data-drop-list] .drop-list_list > [tabindex=-1]:not([data-has-tabs])"),e.on("click keydown","[data-drop-list] .drop-list_list > [tabindex=-1]:not([data-has-tabs])",function(t){if(keyClick(t)===!0){var e=$vf(t.target);if(!e.is("input, textarea, select, [data-has-tabs]")){var a=$vf(this).closest("[data-drop-list]");hideDropList(a)}}}),e.off("click keydown","[data-drop-list-choices] > .drop-list_choice, [data-drop-list-select] > [tabindex=-1]"),e.on("click keydown","[data-drop-list-choices] > .drop-list_choice, [data-drop-list-select] > [tabindex=-1]",function(t){if(keyClick(t)===!0){var e=$vf(t.target);if(!e.is("input, textarea, select, [data-has-tabs]")){t.preventDefault();var a=$vf(this);a.siblings().removeClass("active").attr("aria-checked",!1),a.addClass("active").attr("aria-checked",!0)}}}),e.off("mouseleave","[data-drop-list]"),e.on("mouseleave","[data-drop-list]",function(){var t=$vf(this),e=setTimeout(function(){t.is(".active")?hideDropList(t):clearTimeout(e)},300);t.on("mouseenter",function(){clearTimeout(e)})}),e.off("click keydown","[data-drop-list].active [data-drop-list-button]"),e.on("click keydown","[data-drop-list].active [data-drop-list-button]",function(t){if(keyClick(t)===!0){var e=$vf(this).closest("[data-drop-list]");hideDropList(e)}}),e.off("click keydown",".page-overlay.droplist, .nested-overlay"),e.on("click keydown",".page-overlay.droplist, .nested-overlay",function(t){if(keyClick(t)===!0){var e=$vf("[data-drop-list].active");e.length&&hideDropList(e)}}),e.on("afterShowDropList","[data-drop-list]",function(){setDropListHeight($vf(this))}),e.on("afterHideDropList","[data-drop-list]",function(){setDropListHeight($vf(this),!0)}),$vf("[data-drop-list-button]").each(function(){var t=$vf(this);t[0].hasAttribute("tabindex")===!1&&t.attr("tabindex",0),t.attr("aria-listbox",!0)}),$vf(".drop-list_list > li, .drop-list_list > a, .drop-list_list > span, .drop-list_list > div").attr({role:"option",tabindex:-1}),$vf(".drop-list_list").prop("hidden",!0),$vf("[data-drop-list-select] > .active").attr("aria-checked",!0),$vf("[data-drop-list]").attr({role:"combobox"}),e.off("keydown",".active > [data-drop-list-button]"),e.on("keydown",".active > [data-drop-list-button]",function(t){var e=$vf(this),a=e.closest("[data-drop-list]"),i=($vf(".drop-list_list",a),t.which);a.is(".active")&&(27===i||9===i?(t.preventDefault(),hideDropList(a)):i>=36&&40>=i?(t.preventDefault(),$vf("[tabindex=-1]",a).first().focus()):35===i&&(t.preventDefault(),$vf("[tabindex=-1]",a).last().focus()))}),e.on("keydown",".drop-list_list > [tabindex=-1]",function(t){var e=$vf(this),a=e.closest("[data-drop-list]"),i=$vf(".drop-list_list > [tabindex=-1]",a),o=t.which;a.is(".active")&&($vf("[data-has-tabs] [tabindex=0]:focus").length<1&&(36===o?(t.preventDefault(),i.first().focus()):35===o?(t.preventDefault(),i.last().focus()):39===o||40===o?(t.preventDefault(),e.is(":last-child")||e.next().focus()):38===o||37===o?(t.preventDefault(),e.is(":first-child")||e.prev().focus()):(27===o||9===o&&!e.is("[data-has-tabs]"))&&(t.preventDefault(),hideDropList(a))),!e.is("[data-has-tabs]")||t.target!=t.currentTarget||9!==o&&13!==o?e.is("[data-has-tabs]")&&9===o?setTimeout(function(){0===$vf(":focus").closest("[data-has-tabs]").length&&e.focus()},1):e.is("[data-has-tabs]")&&27===o&&e.focus():(t.preventDefault(),$vf("[tabindex=0]",e).first().focus()))})}function showDropList(t){if(t.trigger("beforeShowDropList"),saveFocus(),$vf(".drop-list_list",t).prop("hidden",!1),t.addClass("active"),t.closest("[data-modal]").length>0){var e=t.closest("[data-modal]"),a=$vf("[data-modal-header], [data-modal-content], [data-modal-footer]",e);a.each(function(){$vf(this).append('<div class="nested-overlay" />')}),$vf(".nested-overlay",e).addClass("active invisible droplist")}else{$vf(".page-overlay").length<1&&$vf("body").append('<div class="page-overlay"></div>');var i=$vf(".page-overlay");t.closest(".main").length?i.appendTo(t.closest(".main")):$vf(".page.active").length&&i.appendTo(".page.active"),$vf(".page-overlay").addClass("active invisible droplist")}$vf(window).on("orientationchange",function(){hideDropList(t)}),t.trigger("afterShowDropList")}function hideDropList(t){t.trigger("beforeHideDropList");var e=$vf(".drop-list_list",t),a=e.outerHeight();e.css("height",a),t.removeClass("active"),$vf(":focus").blur();var i;t.closest("[data-modal]").length>0?(i=t.closest("[data-modal]").find(".nested-overlay"),i.removeClass("active invisible droplist"),setTimeout(function(){i.remove()},250)):(i=$vf(".page-overlay"),i.removeClass("active invisible droplist"),setTimeout(function(){i.appendTo("body")},250)),setTimeout(function(){e[0].style.height=""},300),resetFocus(),$vf(".drop-list_list",t).prop("hidden",!0),$vf(window).off("orientationchange"),t.trigger("afterHideDropList")}function setDropListHeight(t,e){if(!t.find("[data-drop-list-scroll]").length)return!1;t.trigger("beforeSetDropListHeight");var a=$vf(window).height(),i=$vf("[data-drop-list-scroll]",t).height(),o=t[0].getBoundingClientRect().bottom,r=a-o-1,l=$vf("[data-drop-list-scroll] > li > a, [data-drop-list-scroll] > a, [data-drop-list-scroll] > span",t),s=parseInt(l.css("padding-right"));if(i>r&&!e){var d=r;$vf("[data-drop-list-scroll]",t).css({height:d,"min-height":100,"overflow-x":"hidden","overflow-y":"auto"});var n=document.createElement("div");n.className="scrollbar-measure",document.body.appendChild(n),$vf(".scrollbar-measure").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999});var c=n.offsetWidth-n.clientWidth;document.body.removeChild(n);var f=s+c,v=l[0].scrollWidth-c,h=v+f;l.css({"padding-right":f,width:h})}else e&&($vf("[data-drop-list-scroll]",t)[0].style.overflow="",l.each(function(){this.style.paddingRight=""}));t.trigger("afterSetDropListHeight")}function filterBarInit(t){var e=getContext(t);$vf("[data-filter-bar]",e).each(function(){var t=$vf(this);$vf("[data-filter-bar-item]",t).each(function(){$vf(this).is("[data-multi-select]")?updateMultiFilter($vf(this)):updateSingleFilter($vf(this),!0)})}),$vf(document).off("click keypress","[data-filter-bar-item]:not(.disabled)"),$vf(document).on("click keypress","[data-filter-bar-item]:not(.disabled)",function(t){if(keyClick(t)===!0){t.preventDefault();var e=$vf(t.target),a=$vf(this);if(e.is("[data-filter-bar-choices], [data-filter-bar-choices] *"))return!1;if(a.is(".active"))return closeFilter(a),!1;if($vf("[data-filter-bar-item].active").length)return closeFilter(a),!1;if(!(a.find("[data-filter-bar-choices] li").length>1))return!1;$vf("[data-filter-bar-item].active").removeClass("active"),openFilter(a)}}),e.off("click keypress","[data-filter-bar-choices] li"),e.on("click keypress","[data-filter-bar-choices] li",function(t){if(keyClick(t)===!0){t.preventDefault();var e=$vf(this),a=e.closest("[data-filter-bar-item]");if(e.trigger("beforeClickFilterChoice"),a.is("[data-multi-select]")){var i=$vf("[data-filter-bar-choices] li.active",a),o=parseInt(a.attr("data-multi-select"))||1/0,r=i.length;e.hasClass("active")?e.removeClass("active"):o>r?e.addClass("active"):r==o&&($vf("[data-filter-bar-selected]",a).addClass("shake"),setTimeout(function(){$vf("[data-filter-bar-selected]",a).removeClass("shake")},500)),updateMultiFilter(a)}else e.siblings().removeClass("active"),e.addClass("active"),e.closest("[data-filter-bar-choices]").removeClass("active"),updateSingleFilter(a,e);e.trigger("afterClickFilterChoice")}}),e.off("mouseleave","[data-filter-bar] [data-filter-bar-item].active"),e.on("mouseleave","[data-filter-bar] [data-filter-bar-item].active",function(){var t=$vf(this),e=setTimeout(function(){closeFilter(t)},300);t.on("mouseenter",function(){clearTimeout(e)})}),e.off("click keypress",".page-overlay.filterbar, .nested-overlay"),e.on("click keypress",".page-overlay.filterbar, .nested-overlay",function(t){if(keyClick(t)===!0){var e=$vf("[data-filter-bar-item].active");e.length&&closeFilter(e)}}),$vf("[data-filter-bar-item]").each(function(){var t=$vf(this);t[0].hasAttribute("tabindex")===!1&&t.attr("tabindex",0),t.attr("role","combobox")}),$vf("[data-filter-bar-choices]").attr({role:"listbox","aria-labelledby":"listlabel"}),$vf("[data-filter-bar-choices]").prop("hidden",!0),$vf("[data-filter-bar-choices] li").attr({role:"option","aria-selected":"false"}),$vf("[data-filter-bar-choices] li.active").attr({"aria-selected":"true"}),e.off("keydown","[data-filter-bar-item]:not(.disabled)"),e.on("keydown","[data-filter-bar-item]:not(.disabled)",function(t){var e=$vf(this),a=t.which,i=$vf(t.target);if(i.is("[data-filter-bar-item]:not(.disabled)"))if(e.is(".active"))27===a?(t.preventDefault(),closeFilter(e)):t.altKey&&38===t.which||t.altKey&&40===t.which?(t.preventDefault(),closeFilter(e)):a>=36&&40>=a?(t.preventDefault(),$vf(".filter-bar_choices",e).children().first().focus()):35===a?(t.preventDefault(),$vf(".filter-bar_choices",e).children().last().focus()):9===a&&closeFilter(e,!0);else if(t.altKey&&38===t.which||t.altKey&&40===t.which){if(!(e.find("[data-filter-bar-choices] li").length>1))return!1;$vf("[data-filter-bar-item].active").removeClass("active"),openFilter(e)}}),e.off("keydown","[data-filter-bar-choices] li"),e.on("keydown","[data-filter-bar-choices] li",function(t){var e=$vf(this),a=$vf(t.target),i=e.closest("[data-filter-bar-item]"),o=$vf("[data-filter-bar-choices] li",i),r=t.which;a.is("[data-filter-bar-item]:not(.disabled)")||i.is(".active")&&(36===r?(t.preventDefault(),o.first().focus()):35===r?(t.preventDefault(),o.last().focus()):t.altKey&&38===t.which||t.altKey&&40===t.which?(t.preventDefault(),closeFilter(i)):39===r||40===r?(t.preventDefault(),e.is(":last-child")?e.focus():e.next().focus()):38===r||37===r?(t.preventDefault(),e.is(":first-child")?e.focus():e.prev().focus()):27===r?closeFilter(i):9===r&&(i.is("[data-multi-select]")?(e.closest("[data-filter-bar-item]").focus(),closeFilter(i,!0)):(e.siblings().removeClass("active"),e.addClass("active"),e.closest("[data-filter-bar-choices]").removeClass("active"),updateSingleFilter(i,!1,e,!0))))})}function openFilter(t){if(t.trigger("beforeOpenFilter"),t.addClass("active"),setChoiceListHeight(t),saveFocus(),t.closest("[data-modal]").length>0){var e=t.closest("[data-modal]"),a=$vf("[data-modal-header], [data-modal-content], [data-modal-footer]",e);a.each(function(){$vf(this).append('<div class="nested-overlay" />')}),$vf(".nested-overlay",e).addClass("active invisible filterbar")}else{$vf(".page-overlay").length<1&&$vf("body").append('<div class="page-overlay vzrf"></div>');var i=$vf(".page-overlay");t.closest(".main").length?i.appendTo(t.closest(".main")):$vf(".page.active").length&&i.appendTo(".page.active"),$vf(".page-overlay").addClass("active invisible filterbar")}$vf(window).on("orientationchange",function(){closeFilter(t)}),$vf(".filter-bar_choices",t).prop("hidden",!1),$vf(".filter-bar_choices",t).children().attr({tabindex:-1}),t.trigger("afterOpenFilter")}function closeFilter(t,e){t.trigger("beforeCloseFilter"),t.removeClass("active"),setChoiceListHeight(t,!0);var a;t.closest("[data-modal]").length>0?(a=t.closest("[data-modal]").find(".nested-overlay"),a.removeClass("active invisible filterbar"),setTimeout(function(){a.remove()},250)):(a=$vf(".page-overlay.filterbar"),a.removeClass("active invisible filterbar"),$vf(".page.active").length>0&&setTimeout(function(){a.appendTo("body")},250)),e!==!0&&setTimeout(function(){resetFocus()},350),$vf(".filter-bar_choices",t).prop("hidden",!0),$vf(window).off("orientationchange"),t.trigger("afterCloseFilter")}function updateSingleFilter(t,e,a,i){t.trigger("beforeUpdateSingleFilter");var o;t.find(":focus");a?o=$vf("a",a).text():t.has("li.active").length>0?o=$vf("li.active a",t).text():(o=$vf("[data-filter-bar-choices] li:first-child a",t).text(),$vf("[data-filter-bar-choices] li:first-child",t).addClass("active")),$vf("[data-filter-bar-selected]",t).text(o),1!=e&&closeFilter(t,i),t.trigger("afterUpdateSingleFilter")}function updateMultiFilter(t){t.trigger("beforeUpdateMultiFilter");var e="Make a selection";t.is("[data-null-text]")&&(e=t.attr("data-null-text"));var a="# Item~ Selected";t.is("[data-count-text]")&&(a=t.attr("data-count-text"));var i,o=$vf("[data-filter-bar-choices] li.active",t).length;o>1?(a=a.replace("#",o),i=a.replace("~","s")):1==o?t.is("[data-count-text-singular]")?(a=a.replace("#",o),i=a.replace("~","")):i=$vf(".active a",t).text():1>o&&(i=e),$vf("[data-filter-bar-selected]",t).text(i),t.trigger("afterUpdateMultiFilter")}function setChoiceListHeight(t,e){t.trigger("beforeSetChoiceListHeight");var a=$vf(window).height(),i=$vf("[data-filter-bar-choices]",t).height(),o=t[0].getBoundingClientRect().bottom,r=a-o;if(i>r&&!e){var l=r-15;$vf("[data-filter-bar-choices]",t).css({height:l,"min-height":120,overflow:"auto"});var s=document.createElement("div");s.className="scrollbar-measure",document.body.appendChild(s),$vf(".scrollbar-measure").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999});var d=s.offsetWidth-s.clientWidth;document.body.removeChild(s),d>0&&$vf("[data-filter-bar-choices] > li > a",t).css("text-overflow","clip")}else e&&setTimeout(function(){$vf("[data-filter-bar-choices]",t).removeAttr("style"),$vf("[data-filter-bar-choices] > li > a",t).removeAttr("style")},500);t.trigger("afterSetChoiceListHeight")}function listControlInit(t){var e=getContext(t),a=function(){$vf("[data-list-control] > li",e).each(function(t){listControlItemHeight($vf(this),t)})};$vf("[data-list-control]").length&&(a(),$vf(window).on("resize orientationchange",function(){a()})),e.off("change","[data-list-control] [data-list-control-check]"),e.on("change","[data-list-control] [data-list-control-check]",function(){var t=$vf(this),e=t.closest(".w_list-control > li");if(t.is('[type="radio"]')){var a=t.attr("name");$radioGroup=$vf('input[name="'+a+'"]'),$radioGroup.each(function(){var t=$vf(this),e=t.closest(".w_list-control > li");t.is(":checked")?e.addClass("checked").attr("aria-checked","true"):e.removeClass("checked").attr("aria-checked","false")})}else t.is(":checked")?e.addClass("checked").attr("aria-checked","true"):e.removeClass("checked").attr("aria-checked","false")}),$vf("[data-list-control-check]",e).each(function(){var t=$vf(this),e=$vf(this).closest("[data-list-control] > li");e.css("cursor","pointer"),t.is(":checked")?t.closest("li").addClass("checked").attr("aria-checked","true"):t.closest("li").attr("aria-checked","false"),e.off("click"),e.on("click",function(t){if($target=$vf(t.target),$target.is("[data-list-control] > li")){var e=$vf("[data-list-control-check]",$target);0==e.prop("checked")&&e.is("[type=radio]")?e.prop("checked",!0).change():e.prop("checked")&&e.is("[type=checkbox]")?e.prop("checked",!1).change():0==e.prop("checked")&&e.is("[type=checkbox]")&&e.prop("checked",!0).change()}})}),e.off("click keypress","[data-list-control] [data-accordion]"),e.on("click keypress","[data-list-control] [data-accordion]",function(t){if(keyClick(t)===!0){t.preventDefault();var e,a=$vf(this);a.is("[data-accordion-group]")&&!a.hasClass("open")?(e=a.attr("data-accordion-group"),$vf("[data-accordion-group="+e+"]").each(function(t,e){if($vf(e).hasClass("open")){var a=$vf(e);return closeAccordion(a),!1}}),openAccordion(a)):a.hasClass("open")?closeAccordion(a):openAccordion(a)}}),$vf("[data-accordion]").each(function(){var t=$vf(this);t[0].hasAttribute("tabindex")===!1&&t.attr("tabindex",0),t.attr("aria-expanded","false"),t.attr("role","tab")}),$vf("[data-accordion].open").attr({"aria-expanded":"true"}),$vf("[data-accordion] + .m_accordion-details").attr({"aria-role":"tabpanel","aria-hidden":"true"}),$vf("[data-accordion] + .m_accordion-details").prop({hidden:!0}),$vf("[data-accordion].open + .m_accordion-details").attr({"aria-role":"tabpanel","aria-hidden":"false"}),$vf("[data-accordion].open + .m_accordion-details").prop({hidden:!1})}function openAccordion(t){t.trigger("beforeOpenAccordion"),t.each(function(){var e=$vf(this),a=e.next();a.hide(),setTimeout(function(){e.addClass("open").attr("aria-expanded","true"),listControlItemHeight(a),a.slideDown(300,function(){a.attr("aria-hidden","false"),a.prop("hidden",!1)}),t.trigger("afterOpenAccordion")},50)})}function closeAccordion(t){t.trigger("beforeCloseAccordion"),t.each(function(){var e=$vf(this),a=e.next();setTimeout(function(){a.slideUp(300).attr("aria-hidden","true"),a.prop("hidden",!0),e.removeClass("open").attr("aria-expanded","false"),t.trigger("afterCloseAccordion")},50)})}function listControlItemHeight(t){t.trigger("beforeListControlItemHeight");var e=parseInt(t.css("min-height"),10),a=parseInt(t.css("height"),10);return t.hasClass("m_single")&&a==e?!1:(!t.hasClass("m_single")&&e>=a?t.addClass("m_single"):t.hasClass("m_single")&&a>e+5&&t.removeClass("m_single"),void t.trigger("afterListControlItemHeight"))}function modalInit(t){var e=getContext(t);$vf("[data-modal]").addClass("vzrf"),e.off("click keypress","[data-open-modal]"),e.on("click keypress","[data-open-modal]",function(t){if(keyClick(t)===!0){var e=$vf(this).attr("data-open-modal");if($vf(this).attr("aria-haspopup","false"),$vf(this).hasClass("disabled"))return!1;if($vf(this).is("[data-modal-section]")){var a=$vf(this).attr("data-modal-section");openModal(e,a)}else openModal(e)}}),e.off("click keypress","[data-close-modal]"),e.on("click keypress","[data-close-modal]",function(t){if(keyClick(t)===!0){var e=$vf("[data-modal].active"),a=$vf(this).is("[data-open-modal]");if($vf("[data-open-modal]").attr("aria-haspopup","true"),$vf(this).hasClass("disabled"))return!1;if($vf(this).is("[data-validate-form]")){if(!$vf("form",e).parsley().isValid())return!1;closeModal(e,a)}else closeModal(e,a)}}),$vf("[data-modal]",e).off("click keypress","[data-modal-height], [data-accordion], [data-tab], [data-reveal-trigger], [data-reveal-trigger] + label"),$vf("[data-modal]",e).on("click keypress","[data-modal-height], [data-accordion], [data-tab], [data-reveal-trigger], [data-reveal-trigger] + label",function(t){var e=setInterval(function(){modalHeightSetter()},10);setTimeout(function(){clearInterval(e),modalHeightSetter(),$vf("[data-modal].active [data-modal-content]").css("overflow-y","auto")},325)}),e.off("click",".page-overlay"),e.on("click",".page-overlay",function(){var t=$vf("[data-modal].active");t.is("[data-disable-overlay-close]")||closeModal(t)}),$vf(document).on("beforeOpenFilter beforeShowDropList",function(t){var e=$vf(t.target);return e.closest("[data-modal].active").length?!1:void($vf("[data-modal].active").length&&closeModal($vf("[data-modal].active")))}),$vf("[data-modal-iframe]").each(function(){modalIframeSetup($vf(this))}),e.on("afterOpenModal",function(){setTimeout(function(){modalIframeSizing()},400),setTimeout(function(){modalIframeSizing()},700)}),$vf("[data-modal]").attr({role:"dialog","aria-hidden":"true"}).prop("hidden",!0),$vf("[data-open-modal]").each(function(){var t=$vf(this);t[0].hasAttribute("tabindex")===!1&&t.attr("tabindex",0),t.attr({"aria-label":"Opens a Modal","aria-haspopup":"true"})}),$vf("[data-close-modal]").each(function(){var t=$vf(this);t[0].hasAttribute("tabindex")===!1&&t.attr("tabindex",-1),t.attr({"aria-label":"Click here or press escape key to close the modal"})})}function openModal(t,e){function a(){$vf("body, html").addClass("no-scroll"),o.addClass("active"),$vf(".page-overlay").addClass("active modal"),o.hasClass("m_show-top-bar")&&$vf(".page-overlay").addClass("show-top-bar"),$vf(window).on("keyup",function(t){9===t.which&&0==$vf(t.target).closest(o).length&&(t.preventDefault(),o.focus(),modalHeightSetter()),27===t.which&&closeModal(o)})}function i(){o.trigger("beforeActivateSectionModal");var t=l.css("position");"absolute"!=t&&"relative"!=t&&"fixed"!=t&&l.css("position","relative"),l.css("overflow","hidden").attr("data-modal-section-element","").scrollTop(0),$vf(".page-overlay").prependTo(l).addClass("modal absolute"),setTimeout(function(){$vf(".page-overlay").addClass("active")},10),o.prependTo(l).addClass("m_section"),setTimeout(function(){o.addClass("active"),modalHeightSetter()},10),o.on("keyup",function(t){27===t.which&&closeModal(o)}),o.trigger("afterActivateSectionModal")}var o;t instanceof $vf||t instanceof jQuery?o=t:t?o=$vf("[data-modal="+t+"]"):console.error("Modal not defined or does not exist"),o.trigger("beforeOpenModal"),saveFocus(),o.attr({"aria-hidden":"false",tabindex:"0"}).prop("hidden",!1),$vf("[data-close-modal]",o).attr("tabindex","0"),$vf("main").attr("aria-hidden","true").prop("hidden",!0);var r=$vf("[data-modal].active"),l=($vf("[data-modal-content]",o),$vf("[data-modal-header]",o),$vf("[data-modal-footer]",o),!1);if(e instanceof $vf||e instanceof jQuery?l=e:e&&(l=$vf("#"+e)),o.length>0){if(!o.is(".active")&&o.parent("body").length<1&&o.appendTo("body"),$vf(".page-overlay").length<1?$vf("body").append('<div class="page-overlay vzrf"></div>'):$vf(".page-overlay").addClass("vzrf"),o.is(r)&&l.length>0){var s=o.closest("[data-modal-section-element]").attr("id");if(l.attr("id")===s)return!1;o.removeClass("active"),$vf("[data-modal-section-element]").removeAttr("[data-modal-section-element]"),$vf(".page-overlay").removeClass("active"),setTimeout(function(){i()},350)}else r.length>0&&!l?(closeModal(r),setTimeout(function(){a(),modalVertAlign()},350)):r.length>0&&l.length>0?(closeModal(r,!0),setTimeout(function(){i(),modalVertAlign()},350)):l?i():a();modalHeightSetter(),setTimeout(function(){o.focus()},350)}o.trigger("afterOpenModal")}function closeModal(t,e){var a;t instanceof $vf||t instanceof jQuery?a=t:t&&(a=$vf("[data-modal="+t+"]")),a.trigger("beforeCloseModal"),$vf(window).off("keyup"),$vf("[data-close-modal]",a).attr("tabindex","-1");var i=a.height();a.css("height",i),a.removeClass("active show-top-bar"),setTimeout(function(){a.removeClass("m_section")},350);var o=$vf("[data-modal-section-element]");o.length>0&&setTimeout(function(){o.attr("style","").removeAttr("data-modal-section-element")},350),e!==!0&&($vf(".page-overlay.modal").removeClass("active modal show-top-bar"),setTimeout(function(){$vf(".page-overlay").removeClass("absolute").appendTo("body")},350),$vf("body, html").removeClass("no-scroll")),a.css("top","-100%"),$vf(":focus",a).blur(),$vf(".page.active").length>0&&setTimeout(function(){a.appendTo(".page.active")},400),setTimeout(function(){a.attr({"aria-hidden":"true",tabindex:"-1"}).prop("hidden",!0),$vf("main").attr("aria-hidden","false").prop("hidden",!1)},400),resetFocus(),a.trigger("afterCloseModal")}function modalHeightSetter(){if($vf("[data-modal].active").length<1)return!1;var t=$vf("[data-modal].active");t.trigger("beforeModalHeightSetter");var e=$vf("[data-modal-content]",t),a=$vf("[data-modal-header]",t),i=$vf("[data-modal-footer]",t);if(t[0].style.height="",e[0].style.height="",a.length){a[0].style.height="";var o=a[0].scrollHeight}else var o=0;if(i.length){i[0].style.height="";var r=i[0].scrollHeight}else var r=0;var l=$vf(window).height(),s=e[0].scrollHeight||0,d=.9;t.is(".m_cover, .m_cover-all")&&(d=1);var n=d*l,c=n-o-r;e.css({"max-height":c,height:s}),modalVertAlign(),t.trigger("afterModalHeightSetter")}function modalVertAlign(){var t=$vf("[data-modal].active"),e=t.height();t.is(".m_vert-top, m_tall")?t.css({top:"5%","margin-top":$vf(window).scrollTop()}):t.is(".m_cover, .m_cover-all")?t.css({top:0,"margin-top":$vf(window).scrollTop()}):t.css({top:"50%","margin-top":-1*e/2+$vf(window).scrollTop()})}function modalIframeSetup(t){if(t.trigger("beforeModalIframeSetup"),$vf("iframe",t).length)return!1;var e=t.attr("data-modal-iframe"),a=$vf('<iframe src="'+e+'" scrolling="no"></iframe>'),i='<div class="modal_content m_has-iframe" data-modal-content></div>';$vf("[data-modal-content]",t).length<1?$vf("[data-modal-header]",t).length?$vf("[data-modal-header]",t).after(i):$vf(".modal_x",t).length?$vf(".modal_x",t).after(i):t.prepend(i):$vf("[data-modal-content]").addClass("m_has-iframe"),$vf.get(e).fail(function(){console.error("===========================================================================\nVZRF Modal Iframe error: Cross-origin limitations\n---------------------------------------------------------------------------\nThe iframe src is required to have the same domain as the parent page.\nThis is so that the contents of the iframe can be access for programatically\ndetermining the height of the iframe'd page. If same domain is not possible\nin your situation then do not use [data-modal-iframe], but instead build your\nown custom system inside the [data-modal-content] div of the modal. You will\nlikely need to set a fixed height for the iframe in this case.\n===========================================================================")}).done(function(){$vf("[data-modal-content]",t).append(a),modalIframeSizing()}),t.trigger("afterModalIframeSetup")}function modalIframeSizing(){var t=$vf("[data-modal].active iframe");t.trigger("beforeModalIframeSizing"),iframeNewHeight=t.contents().find("body").outerHeight(),t.height(iframeNewHeight),modalHeightSetter(),t.trigger("afterModalIframeSizing")}function tabsInit(t){var e=getContext(t);$vf("[data-tab].active",e).each(function(){switchTabs($vf(this))}),e.off("click keypress","[data-tab]"),e.on("click keypress","[data-tab]",function(t){if(keyClick(t)===!0){var e=$vf(this);switchTabs(e)}}),e.off("change","[data-tabs] [type=radio]"),e.on("change","[data-tabs] [type=radio]",function(t){var e=$vf(this);e.next().is("label[data-tab]")&&switchTabs(e.next())}),e.off("touchend","label[data-tab]"),e.on("touchend","label[data-tab]",function(){var t=$vf(this);switchTabs(t)}),$vf("[data-tabs]").each(function(){var t=$vf(this);t[0].hasAttribute("tabindex")===!1&&t.attr("tabindex",0),t.attr("role","tablist")}),$vf("[data-tabs] [type=radio]+label[data-tab]").each(function(){var t=$vf(this);t[0].hasAttribute("tabindex")===!1&&t.attr("tabindex",-1)}),$vf("[data-tab]:not(label)").each(function(){var t=$vf(this);t[0].hasAttribute("tabindex")===!1&&t.attr("tabindex",-1),t.attr("role","tab"),t.attr("aria-selected","false")}),$vf("[data-tab].active").attr({"aria-selected":!0}),$vf("[data-tabs-content]").attr({role:"tabpanel","aria-hidden":!0}),$vf("[data-tabs-content]").prop("hidden",!0),$vf("[data-tabs-content].active").attr("aria-hidden",!1),$vf("[data-tabs-content].active").prop("hidden",!1),e.off("keydown","[data-tabs]"),e.on("keydown","[data-tabs]",function(t){if(!$vf(this).find("label[data-tab]").length){var e=$vf(t.target).closest("[data-tabs]"),a=$vf("> [data-tab]",e),i=e.find("> [data-tab].active").index(),o=e.find("> [data-tab]").length-1,r=function(){return 0>i-1?0:i-1}(),l=function(){return i+1>o?o:i+1}();36===t.which?switchTabs($vf(a.eq(0))):35===t.which?switchTabs($vf(a.eq(o))):37===t.which||38===t.which?switchTabs($vf(a.eq(r))):39!==t.which&&40!==t.which||switchTabs($vf(a.eq(l))),t.which>34&&t.which<41&&t.preventDefault()}})}function switchTabs(t){t.trigger("beforeSwitchTabs");var e=t.closest("[data-tabs]"),a=t.attr("data-tab");$vf("> [data-tab]",e).removeClass("active").attr("aria-selected",!1),t.addClass("active").attr("aria-selected",!0).focus(),t.is("label[data-tab]")&&$vf("#"+t.attr("for")).prop("checked",!0);var i=$vf('[data-tabs-content="'+a+'"]'),o=i.closest("[data-tabs-content-wrap]"),r=o.find("[data-tabs-content-wrap] [data-tabs-content]");if($vf("[data-tabs-content]",o).not(r).hide().removeClass("active").attr("aria-hidden",!0).prop("hidden",!0),i.show().addClass("active").attr("aria-hidden",!1).prop("hidden",!1),e.is("[data-steps]")){var l=e.find(".active.steps_step").index()+1;e.attr("aria-valuenow",l)}listControlInit(i),t.trigger("afterSwitchTabs")}function tooltipInit(t){var e,a=getContext(t);a.off("click keypress","[data-open-tooltip]:not(.active)"),a.on("click keypress","[data-open-tooltip]:not(.active)",function(t){if(keyClick(t)===!0){var a=$vf(this);if(a.is("input, select, textarea"))return!1;var i=a.attr("data-open-tooltip").trim();clearTimeout(e),closeTooltip(),t.target.hasAttribute("data-open-tooltip")&&openTooltip(i,a)}}),a.off("click keypress","[data-close-tooltip]"),a.on("click keypress","[data-close-tooltip]",function(t){keyClick(t)===!0&&closeTooltip()}),a.off("mouseover","[data-open-tooltip][data-tooltip-hover]:not(.active)"),a.on("mouseover","[data-open-tooltip][data-tooltip-hover]:not(.active)",function(t){var a=$vf(this),i=parseInt(a.attr("data-tooltip-hover"))||150;e=setTimeout(function(){if(a.is("input, select, textarea"))return!1;var e=a.attr("data-open-tooltip");closeTooltip(),t.target.hasAttribute("data-open-tooltip")&&openTooltip(e,a,!0)},i)}),a.off("mouseout","[data-open-tooltip][data-tooltip-hover]"),a.on("mouseout","[data-open-tooltip][data-tooltip-hover]",function(){clearTimeout(e),closeTooltip()}),a.off("focus","[data-tooltip-field]"),a.on("focus","[data-tooltip-field]",function(){var t=$vf(this),e=$vf("[data-open-tooltip]",t).attr("data-open-tooltip");closeTooltip(),openTooltip(e,t)}),a.off("blur","[data-tooltip-field]"),a.on("blur","[data-tooltip-field]",function(){closeTooltip(!0)}),$vf("[data-open-tooltip]").each(function(){var t=$vf(this);t[0].hasAttribute("tabindex")===!1&&t.attr("tabindex",0),t.attr("aria-label","Show a tooltip")}),$vf("[data-close-tooltip]").each(function(){var t=$vf(this);t[0].hasAttribute("tabindex")===!1&&t.attr("tabindex",0),t.attr("aria-label","Close tooltip")}),$vf("[data-tooltip]").attr({role:"tooltip","aria-hidden":"true"}),a.off("keydown","[data-tooltip], [data-tooltip-open]"),a.on("keydown","[data-tooltip], [data-tooltip-open]",function(t){27===t.which&&($vf(t.target).is("[data-open-tooltip]")?closeTooltip():(closeTooltip(),t.preventDefault()))})}function openTooltip(t,e,a){var i=$vf('[data-tooltip="'+t+'"]');if(i.trigger("beforeOpenTooltip"),$vf("body").attr("data-tooltip-open","true"),0==e.closest("[data-tooltip-field]").length&&saveFocus(),$vf("[data-tooltip]").attr("aria-hidden","false"),e.addClass("active"),a?i.addClass("m_hover"):i.removeClass("m_hover"),parseInt(i.attr("data-percent-available-space"),10)>1)var o=i.attr("data-percent-available-space");else o=100;var r=e.offset(),l=e[0].getBoundingClientRect(),s=e.width(),d=parseInt(i.css("padding-left"),10);if($vf(".page.active").length>0)var n=$vf(".page.active .main");else if($vf(".main").length>0)var n=$vf(".main");else var n=e.closest($vf(".row, .modal_content, .w_modal"));var c,f=n.width(),v=n.offset(),h=l.left,p=$vf(window).width()-l.right,u=(l.bottom,l.top);i.is("[data-tooltip-vertical]")?""===i.data("tooltip-vertical")?120>u?i.addClass("m_bottom"):u>1e3&&i.removeClass("m_bottom"):"down"===i.data("tooltip-vertical")?i.addClass("m_bottom"):i.removeClass("m_bottom"):h>p?i.addClass("m_rev"):i.removeClass("m_rev"),c=i.hasClass("m_rev")?r.left-v.left-d:f+v.left-r.left-d-s;var m=c*(o/100),g=$vf("[data-tooltip-vertical]").width();i.is("[data-tooltip-vertical]")?g>p?h>p?i.addClass("m_flow-left"):i.removeClass("m_flow-left"):i.hasClass("m_flow-left")&&i.removeClass("m_flow-left"):i.css("width",m),i.appendTo(e),i.addClass("active").fadeIn(300,function(){0==e.closest("[data-tooltip-field]").length&&($vf("[data-close-tooltip]",i).length?$vf("[data-close-tooltip]",i).focus():i.focus())});var b=i[0].scrollHeight,$=$vf(window).height();l.top+b>$&&l.top>b?i.parents("[data-tooltip-field]").length<1?i.addClass("m_flow-up").css("margin-top",37-b):i.addClass("m_flow-up").css("margin-top",i.parent("[data-tooltip-field]").height()+10-b):i.removeClass("m_flow-up").css("margin-top","auto"),i.is("[data-tooltip-vertical]")&&i.removeClass("m_flow-up").css("margin-top","auto"),e.is("[data-tooltip-field]")||$vf(window).resize(function(){closeTooltip()}),i.trigger("afterOpenTooltip")}function closeTooltip(t){var e=$vf("[data-tooltip].active");e.trigger("beforeCloseTooltip"),$vf("[data-toopltip]").attr("aria-hidden","true"),
t?(e.fadeOut(150).removeClass("active").attr("aria-hidden",!0),$vf("[data-open-tooltip].active, [data-tooltip-field].active").removeClass("active")):e.fadeOut(150,function(){$vf(this).removeClass("active").attr("aria-hidden",!0),$vf("[data-open-tooltip].active, [data-tooltip-field].active").removeClass("active")}),$vf("body").removeAttr("data-tooltip-open"),t===!1&&setTimeout(function(){resetFocus()},300),e.trigger("afterCloseTooltip")}$vf(function(){function t(t,e,a){var i;return function(){var o=this,r=arguments,l=function(){i=null,a||t.apply(o,r)},s=a&&!i;clearTimeout(i),i=setTimeout(l,e),s&&t.apply(o,r)}}$vf(window).on("resize",t(function(){$vf("[data-modal].active").length&&(modalHeightSetter(),$vf("[data-modal].active").find("iframe").length&&modalIframeSizing())},100)),$vf(window).on("orientationchange",function(){$vf("[data-modal].active").length&&(modalHeightSetter(),$vf("[data-modal].active").find("iframe").length&&modalIframeSizing())})});