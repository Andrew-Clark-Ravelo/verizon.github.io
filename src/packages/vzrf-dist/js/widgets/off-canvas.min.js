/*! VZRF Version 2.20.0 */
function offCanvasInit(a){var e=getContext(a),t=$vf("[data-off-canvas]");t.trigger("beforeOffCanvasInit"),e.off("click keypress","[data-off-canvas-button]"),e.on("click keypress","[data-off-canvas-button]",function(a){if(a.preventDefault(),keyClick(a)===!0){var e=$vf("body").attr("data-off-canvas-active");"false"==e?mobileNavState("open",t):mobileNavState("close",t)}}),t.off("click keypress","[data-more]"),t.on("click keypress","[data-more]",function(a){if(a.preventDefault(),keyClick(a)===!0){var e=$vf(this);"2"==t.attr("data-current-level")&&t.addClass("swap"),e.closest("ul").is('[data-level="1"]')&&($vf('[data-level="1"] > li',t).removeClass("active focus"),t.attr("data-current-level","2")),e.closest("li").addClass("active focus"),offCanvasA11y()}}),t.off("click keypress","[data-link]"),t.on("click keypress","[data-link]",function(a){if(keyClick(a)===!0){var e=$vf(this),s=t.attr("data-current-level");e.closest("ul").is('[data-level="1"]')&&(t.attr("data-current-level","1"),$vf('[data-level="1"] > li',t).removeClass("active focus")),t.removeClass("swap"),$vf('[data-level="2"] > li',t).removeClass("active focus"),e.closest("li").addClass("active focus"),t.scroll(),"2"==s&&e.closest("ul").is('[data-level="1"]')?setTimeout(function(){mobileNavState("close",t)},300):mobileNavState("close",t),offCanvasA11y()}}),t.off("click keypress","[data-back]"),t.on("click keypress","[data-back]",function(a){a.preventDefault(),keyClick(a)===!0&&(t.removeClass("swap"),t.attr("data-current-level","1"),offCanvasA11y())}),e.off("keydown","[data-off-canvas]"),e.on("keydown","[data-off-canvas]",function(a){var e=$vf(this),t=($vf(a.target),$vf(".active [data-level=2] > .focus",e)),s=$vf("[data-level=1] > .focus",e);if(36===a.which)2==e.attr("data-current-level")?(t.removeClass("focus"),t.siblings().removeClass("focus"),t.closest("[data-level]").children().first().addClass("focus").children("[data-more], [data-link]").focus()):(s.removeClass("focus"),s.siblings().removeClass("focus"),s.closest("[data-level]").children().first().addClass("focus").children("[data-more], [data-link]").focus());else if(35===a.which)2==e.attr("data-current-level")?(t.removeClass("focus"),t.siblings().removeClass("focus"),t.closest("[data-level]").children().last().addClass("focus").children("[data-more], [data-link]").focus()):(s.removeClass("focus"),s.siblings().removeClass("focus"),s.closest("[data-level]").children().last().addClass("focus").children("[data-more], [data-link]").focus());else if(37===a.which){if(2==e.attr("data-current-level")){var l=t.closest("[data-level=1] > li");$vf("[data-back]",e).click(),l.addClass("focus").children("[data-more], [data-link]").focus()}}else if(39===a.which||13===a.which||32===a.which){if(a.preventDefault(),1==e.attr("data-current-level"))s.siblings(".active").removeClass(".active"),$vf("[data-level=1] > .focus > [data-more]",e).click(),$vf("[data-level=1] > .focus [data-level=2] li",e).removeClass("focus"),$vf("[data-level=1] > .focus [data-level=2] li:first-child",e).addClass("focus").children("[data-more], [data-link]").focus(),$vf("[data-level=2]",e).hide().show(0),setTimeout(function(){$vf("[data-level=2]:visible",e).hide().show(0)},350);else if(2==e.attr("data-current-level")&&(13===a.which||32===a.which)){var o=$vf("[data-link], [data-more]",t).attr("href");$vf("[data-link], [data-more]",t).click(),window.location.href=o}}else 38===a.which?2!=e.attr("data-current-level")||t.is(":first-child")?2==e.attr("data-current-level")&&t.is(":first-child")||s.is(":first-child")||(s.removeClass("focus"),s.prev().addClass("focus").children("[data-more], [data-link]").focus()):(t.removeClass("focus"),t.prev().addClass("focus").children("[data-more], [data-link]").focus()):40===a.which?2!=e.attr("data-current-level")||t.is(":last-child")?2==e.attr("data-current-level")&&t.is(":last-child")||s.is(":last-child")||(s.removeClass("focus"),s.next().addClass("focus").children("[data-more], [data-link]").focus()):(t.removeClass("focus"),t.next().addClass("focus").children("[data-more], [data-link]").focus()):27!==a.which&&9!==a.which||!e.is(".active")||(a.preventDefault(),mobileNavState("close",e));a.which>34&&a.which<41&&a.preventDefault()}),$vf(".page-overlay").length<1?$vf("body").append('<div class="page-overlay vzrf"></div>'):$vf(".page-overlay").addClass("vzrf"),t.trigger("afterOffCanvasInit"),$vf("[data-off-canvas-button]").attr({tabindex:0,"aria-haspopup":!0}),$vf("[data-off-canvas]").attr({role:"navigation","aria-hidden":!0,tabindex:-1}),$vf("[data-off-canvas] [data-level=1]").attr("role","menubar"),$vf("[data-off-canvas] li").attr("role","menuitem"),$vf("[data-more], [data-link], [data-back]","[data-off-canvas]").attr("tabindex","-1"),offCanvasA11y()}function offCanvasA11y(){$vf("[data-off-canvas] [data-level=2]").each(function(){var a=$vf(this);a.closest("li").attr("aria-haspopup",!0),a.closest("li").is(".active")?a.attr("aria-hidden",!1):a.attr("aria-hidden",!0)})}function mobileNavState(a,e){var t=$vf("[data-off-canvas-button]");if("open"===a){if(saveFocus(),e.is("[data-current-level=2]"))var s=$vf("[data-level=1] > li.active > [data-level=2] > .active, [data-level=1] > li.active > [data-level=2] > .focus",e);else var s=$vf("[data-level=1] > li.active");if(s.addClass("focus").find("[data-link], [data-more]").focus(),s.siblings().removeClass("focus"),$vf("html").hasClass("no-top-fixed")){var l=$vf(".off-canvas_list-wrap",e).height();$vf(".main").css({height:l,overflow:"hidden"})}$vf("body").attr("data-off-canvas-active","true"),$vf(".page-overlay").on("scroll mousewheel wheel touchmove touchstart",function(a){a.preventDefault(),a.stopPropagation()}),t.addClass("active"),e.addClass("active"),$vf("html").on("click touchend",".page-overlay",function(){"true"==$vf("body").attr("data-off-canvas-active")&&mobileNavState("close",e)})}"close"===a&&($vf("html").hasClass("no-top-fixed")&&$vf(".main").css({height:"auto",overflow:"auto"}),$vf("body").attr("data-off-canvas-active","false"),$vf(".page-overlay").off("scroll mousewheel wheel touchmove touchstart").on("scroll mousewheel wheel touchmove touchstart"),t.removeClass("active").focus(),e.removeClass("active swap"),resetFocus()),offCanvasA11y()}offCanvasA11y();