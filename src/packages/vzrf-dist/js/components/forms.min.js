/*! VZRF Version 2.20.0 */
function formsInit(e){$vf(document).trigger("beforeFormsInit");var t=getContext(e);$vf("input, textarea",t).each(function(){var e=$vf(this);e.val()&&""!=e.val()&&void 0!=e.val()&&e.addClass("value"),formsA11y(e)}),t.on("change","input, textarea",function(){formsA11y($vf(this))}),$vf("label").click(function(){}),$vf("[maxlength]",t).each(function(){characterCountdown($vf(this))}),void 0==document.createElement("input").placeholder&&$vf("[placeholder]").focus(function(){var e=$vf(this);e.val()==e.attr("placeholder")&&e.val("")}).blur(function(){var e=$vf(this);""!=e.val()&&e.val()!=e.attr("placeholder")||e.val(e.attr("placeholder"))}).blur(),$vf("select",t).each(function(){var e=$vf(this);e.val()?e.addClass("value"):e.removeClass("value")}),t.off("keyup change",'textarea, select, input:not([type="radio"], [type="checkbox"])'),t.on("keyup change",'textarea, select, input:not([type="radio"], [type="checkbox"])',function(){var e=$vf(this);e.val()?e.addClass("value"):e.removeClass("value")}),t.off("change",'.validation-wrap input[type="radio"], .validation-wrap input[type="checkbox"]'),t.on("change",'.validation-wrap input[type="radio"], .validation-wrap input[type="checkbox"]',function(){var e=$vf(this),t=e.closest(".validation-wrap"),a=e.attr("name");$vf("[name="+a+"]",t).is(":checked")?t.addClass("value"):t.removeClass("value")}),t.off("click",".switch-wrap:not(.disabled)"),t.on("click",".switch-wrap:not(.disabled)",function(e){var t=$vf("input[type=checkbox]",$vf(this));flipSwitch(t)}),t.off("keydown",".switch-wrap:not(.disabled)"),t.on("keydown",".switch-wrap:not(.disabled)",function(e){var t=$vf("input[type=checkbox]",$vf(this));32==e.keyCode&&flipSwitch(t)}),t.on("click","label[for]",function(){var e=$vf(this).attr("for");flipSwitch(e)}),t.off("click","input[data-open-modal]"),t.on("click","input[data-open-modal]",function(){$vf(this).blur()}),$vf("[data-field-icon]",t).each(function(){generateFieldIcon($vf(this))}),t.off("keyup","textarea[maxlength], input[maxlength]"),t.on("keyup","textarea[maxlength], input[maxlength]",function(){characterCountdown($vf(this))}),t.off("click","[data-field-value]"),t.on("click","[data-field-value]",function(){elementToField($vf(this))}),$vf("a.disabled[href]",t).each(function(){var e=$vf(this),t=e.attr("href");e.removeAttr("href"),e.attr("data-href",t),e.off("enable"),e.on("enable",function(){var e=$vf(this),t=e.attr("data-href");e.removeAttr("data-href"),e.attr("href",t).removeClass("disabled")})}),t.off("keyup blur","input[data-sync-value]"),t.on("keyup blur","input[data-sync-value]",function(){fieldSyncValues($vf(this))}),$vf(document).off("mousedown keydown",".device-desktop select:not([data-no-fancy])"),$vf(document).on("mousedown keydown",".device-desktop select:not([data-no-fancy])",function(e){if("mousedown"===e.type&&1===e.which||"keydown"===e.type&&(13===e.which||32===e.which||e.altKey&&38===e.which||e.altKey&&40===e.which)){var t=$vf(this);e.preventDefault(),t.is("[data-fancy-open]")?closeFancyOptions(t):generateFancyOptions(t)}}),$vf("[type=search]").attr("role","search"),$vf("[disabled]").attr("aria-disabled","true"),$vf(".disabled").attr("aria-disabled","true"),$vf(".text-success").attr("aria-valid","true"),$vf("[data-multi-select]").attr("aria-multiselectable","true"),$vf(".switch-wrap").each(function(){switchA11y($vf(this))}),$vf(document).trigger("afterFormsInit")}function characterCountdown(e){e.trigger("beforeCharacterCountdown");var t=e.attr("maxlength"),a=e.val().length,i=e.nextAll(".form-msg").last(),o=$vf("[data-character-count]",i);o.text(a),a>=t?i.addClass("text-alert"):i.removeClass("text-alert"),e.trigger("afterCharacterCountdown")}function elementToField(e){e.trigger("beforeElementToField");var t;t=e.is("[data-field-id]")?e.data("field-id"):e.closest("[data-field-id]").data("field-id");var a=e.data("field-value");a.length>0&&$vf("#"+t).is("input")?$vf("#"+t).val(a).addClass("value"):$vf("#"+t).is("input")?$vf("#"+t).val(a).removeClass("value"):$vf("#"+t).text(a),e.trigger("afterElementToField")}function fieldSyncValues(e){var t=e.attr("data-sync-value"),a=e.val(),i=$vf('[data-sync-value="'+t+'"]');e.trigger("beforeFieldSyncValues"),i.trigger("beforeFieldSyncValues"),i.val(a),i.val().length>0?i.addClass("value"):i.removeClass("value"),e.hasClass("error")?i.addClass("error"):i.removeClass("error"),e.trigger("afterFieldSyncValues"),i.trigger("afterFieldSyncValues")}function generateFieldIcon(e){var t;e instanceof jQuery?t=e:e&&(t=$vf("#"+e)),t.trigger("beforeGenerateFieldIcon");var a=t.attr("id"),i=t.attr("data-field-icon");if(t.prev(".field-icon").length)t.prev().attr("class","field-icon").addClass(i);else{var o='<label for="'+a+'" class="field-icon '+i+'"></label>';t.before(o)}t.is("select")&&t.prev().addClass("select-box"),t.trigger("afterGenerateFieldIcon")}function flipSwitch(e){var t;e instanceof jQuery?t=e:e&&(t=$vf("#"+e));var a=t.closest(".switch-wrap");t.trigger("beforeFlipSwitch"),t.is(".switch-input")&&(t.is("[disabled]")||(t.prop("checked")?t.prop("checked",!1):t.prop("checked",!0),t.focus(),t.change())),switchA11y(a),t.trigger("afterFlipSwitch")}function switchA11y(e){e.find("[type=checkbox]").trigger("beforeSwitchA11y");var t=$vf("[type=checkbox]",e).prop("checked"),a=!!$vf("[type=checkbox]",e).is("[required]"),i=!1;($vf("[type=checkbox]",e).is("[disabled], .disabled")||e.is("[disabled], .disabled"))&&(i=!0),e.attr({role:"checkbox","aria-checked":t,"aria-required":a,"aria-disabled":i}),e.find("[type=checkbox]").trigger("afterSwitchA11y")}function generateFancyOptions(e){var t;e instanceof jQuery?t=e:e&&(t=$vf("#"+e)),t.trigger("beforeGenerateFancyOptions");var a="",i=t.attr("id"),o=[],n={left:37,up:38,right:39,down:40,tab:9,enter:13,shift:16,esc:27};t.attr("data-fancy-open",""),$vf("option",t).each(function(e){var a=$vf(this),i={index:e,tabIndex:function(){return t.prop("tabindex")?t.prop("tabindex"):0}(),text:a.text(),selected:function(){return a.is(":selected")?"selected":""}(),disabled:function(){return a.is(":disabled")?"disabled":""}()};o.push(i)}),$vf.each(o,function(e,t){0===t.index&&(a+='<div class="w_fancy-options" data-select-id='+i+' aria-hidden="false"><ul class="fancy-options_list" role="listbox">'),a+='<li class="fancy-options_item '+t.selected+'" title="'+t.text+'" tabindex="-1" role="option" '+t.disabled+">"+t.text+"</li>",t.index===o.length-1&&(a+="</div>")}),$vf("body").append(a),$dropdown=$vf(".w_fancy-options[data-select-id="+i+"]");var r={dsFlow:function(){var e=t[0].getBoundingClientRect(),a=$vf(window).height(),i="down";e.top>a-e.bottom&&parseInt($vf(".fancy-options_list",$dropdown)[0].scrollHeight)>a-e.bottom&&(i="up");var o={flow:i,spacing:e,winHeight:a};return o},dsTop:function(){var e,t=r.dsFlow();return e="down"==t.flow?t.spacing.bottom:t.spacing.top-r.dsHeight()},dsLeft:function(){return r.dsFlow().spacing.left},dsHeight:function(){var e,a=$dropdown[0].scrollHeight,o=parseInt($dropdown.css("max-height"),10),n=r.dsFlow();return"up"==n.flow?(e=n.spacing.top,t.attr("data-fancy-open","flow-up"),$vf('[data-select-id="'+i+'"]').addClass("m_flow-up")):(e=n.winHeight-n.spacing.bottom,t.attr("data-fancy-open",""),$vf('[data-select-id="'+i+'"]').removeClass("m_flow-up")),o>e||a>e?e:a>o?o:a},dsWidth:t.outerWidth()},c=function(){$dropdown.trigger("beforeSetDropdownPosition"),$dropdown.css({top:r.dsTop(),left:r.dsLeft(),"min-width":r.dsWidth}).addClass("active"),$dropdown.find(".fancy-options_list").css("height","auto").css({width:r.dsWidth,height:r.dsHeight()}),$dropdown.trigger("afterSetDropdownPosition")};c(),$vf(".selected",$dropdown).hide().show().removeClass("selected").addClass("selected"),$vf(".selected",$dropdown).focus(),$dropdown.on("mousemove",".fancy-options_item",function(){$vf(this).focus()}),$dropdown.on("mousedown keydown",".fancy-options_item",function(e){e.preventDefault();var a=$dropdown.find(".fancy-options_item:focus"),i=function(e){var i=a.index();t.prop("selectedIndex",i).addClass("value"),$vf(".fancy-options_item.selected").removeClass("selected"),$vf(".fancy-options_item:focus").addClass("selected"),t.change(),closeFancyOptions(t)};if("mousedown"==e.type)i();else if("keydown"==e.type)if(e.altKey&&38===e.which||e.altKey&&40===e.which)closeFancyOptions(t);else if(e.which==n.enter||e.which==n.tab){if(a.is("[disabled]"))return e.stopPropagation(),!1;i(),t=$vf()}else e.which==n.down||e.which==n.right?a.next().focus():e.which==n.up||e.which==n.left?a.prev().focus():e.which==n.esc&&closeFancyOptions(t)}),$vf(window).off("scroll"),$vf(window).on("scroll",function(){$dropdown.is(".active")&&c()}),$vf(window).off("resize orientationchange"),$vf(window).one("resize orientationchange",function(){$dropdown.is(":visible")&&(closeFancyOptions(t),t=$vf())}),$vf(document).one("mousedown",function(e){var a=$vf(e.target);a.is(".fancy-options_list")||a.is(".fancy-options_item")?(e.preventDefault(),e.stopPropagation()):a!=$vf(".fancy-options_list")&&(e.preventDefault(),e.stopPropagation(),closeFancyOptions(t,!0))}),t.trigger("afterGenerateFancyOptions")}function closeFancyOptions(e,t){var a;e instanceof jQuery?a=e:e&&(a=$vf("#"+e)),a.trigger("beforeCloseFancyOptions");var i=a.attr("id"),o=$vf(".w_fancy-options[data-select-id="+i+"]");o.removeClass("active"),a.removeAttr("data-fancy-open"),t||a.focus(),o.remove(),o=$vf(),a.trigger("afterCloseFancyOptions")}function formsA11y(e){var t;e instanceof $vf||e instanceof jQuery?t=e:e&&(t=$vf("#"+e));var a=(t.attr("data-parsley-id"),!!t.is("[required]"));if(t.is("[type=checkbox], [type=radio]")){var i=t.is("[type=checkbox]")?"checkbox":"radio",o=t.prop("checked");t.next("label").attr({role:i,"aria-checked":o,"aria-required":a})}else t.attr({"aria-required":a})}